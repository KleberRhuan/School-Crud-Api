# Configurações do Ambiente Local
APP_FRONTEND_URL=http://localhost:3000
SPRING_PROFILES_ACTIVE=dev

# Configurações do Banco de Dados Local (Docker)
JDBC_DATABASE_URL=jdbc:postgresql://postgres:5432/houer
JDBC_DATABASE_USERNAME=postgres
JDBC_DATABASE_PASSWORD=Teste123@

# Configurações RabbitMQ Local (Docker)
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/
RABBITMQ_SSL_ENABLED=false

# Configurações Brevo (manter as mesmas)
BREVO_NAME=Houer Test
BREVO_EMAIL=kleberrhuan12@gmail.com
BREVO_URL=https://api.brevo.com/v3
BREVO_API_KEY=

# Pool de Conexões - Configurações otimizadas para desenvolvimento local
DB_CONNECTION_TIMEOUT=10000
DB_IDLE_TIMEOUT=300000
DB_MAX_LIFETIME=900000
DB_MAX_POOL_SIZE=20
DB_MIN_IDLE=5
DB_LEAK_DETECTION_THRESHOLD=30000

# Configurações do Tomcat
SERVER_TOMCAT_MAX_THREADS=200
SERVER_TOMCAT_MIN_SPARE_THREADS=10
SERVER_TOMCAT_CONNECTION_TIMEOUT=20000
SERVER_TOMCAT_KEEP_ALIVE_TIMEOUT=20000
SERVER_TOMCAT_MAX_CONNECTIONS=8192
SERVER_TOMCAT_ACCEPT_COUNT=100

# Configurações JWT
JWT_PUBLIC_KEY=classpath:certificates/public.pub
JWT_PRIVATE_KEY=classpath:certificates/private.pem
JWT_EXPIRATION=3600
JWT_ISSUER=http://localhost:8080

# Configurações da Aplicação
HOUER_URL=http://localhost:8080

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPM=60
RATE_LIMIT_RPH=1000
AUTH_RATE_LIMIT_RPM=10

# CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# Validação de Senha
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# Upload de Arquivos
FILE_MAX_SIZE=10MB

# WebSocket
SCHOOL_WEBSOCKET_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Outbox Configuration - Configurações para desenvolvimento
APP_OUTBOX_RETRY_INTERVAL=60s

# CSV Configuration
# Desabilita notificações RabbitMQ para CSV em desenvolvimento (evita duplicação)
APP_CSV_RABBITMQ_NOTIFICATIONS_ENABLED=false

# Email Configuration - Configurações otimizadas para desenvolvimento
# Reduz retry attempts para desenvolvimento local para evitar spam de outbox
RESILIENCE4J_RETRY_INSTANCES_BREVO_EMAIL_MAX_ATTEMPTS=2
RESILIENCE4J_RETRY_INSTANCES_BREVO_EMAIL_WAIT_DURATION=1s

# Circuit Breaker para desenvolvimento local - mais sensível
RESILIENCE4J_CIRCUITBREAKER_INSTANCES_BREVO_EMAIL_FAILURE_RATE_THRESHOLD=30
RESILIENCE4J_CIRCUITBREAKER_INSTANCES_BREVO_EMAIL_SLIDING_WINDOW_SIZE=5
RESILIENCE4J_CIRCUITBREAKER_INSTANCES_BREVO_EMAIL_WAIT_DURATION_IN_OPEN_STATE=15s

# Logging Levels
SCHOOL_LOG_LEVEL=DEBUG
BATCH_LOG_LEVEL=WARN
RABBITMQ_LOG_LEVEL=WARN
WEBSOCKET_LOG_LEVEL=DEBUG

# Security Configuration
JWT_SECRET=dev-secret-key-change-in-production-very-long-key-for-development

# Admin Configuration
ADMIN_DEFAULT_EMAIL=admin@houer.local
ADMIN_DEFAULT_NAME=Admin Local
ADMIN_DEFAULT_PASSWORD_HASH=$2a$10$N.zmdr9k7uOIW8B.Wneqh.XvVWnZ6m7qBjHiQkqjjFaO7s5YjjKWG

# Auth Configuration
AUTH_VERIFICATION_TTL=PT24H
AUTH_RESET_EXPIRATION=3600
AUTH_RESET_FRONTEND_BASE_URL=http://localhost:3000