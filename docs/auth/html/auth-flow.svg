<svg contentStyleType='text/css' data-diagram-type='SEQUENCE' height='1015px' preserveAspectRatio='none' style='width:1013px;height:1015px;background:#FFFFFF;' version='1.1' viewBox='0 0 1013 1015' width='1013px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' zoomAndPan='magnify'><defs/><g><g><title>User</title><rect fill='#000000' fill-opacity='0.00000' height='853.3848' width='8' x='19.1826' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='23' x2='23' y1='81.4883' y2='934.873'/></g><g><title>SPA (React/Angular)</title><rect fill='#000000' fill-opacity='0.00000' height='853.3848' width='8' x='162.7725' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='165.8335' x2='165.8335' y1='81.4883' y2='934.873'/></g><g><title>AuthController</title><rect fill='#000000' fill-opacity='0.00000' height='853.3848' width='8' x='406.084' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='409.8672' x2='409.8672' y1='81.4883' y2='934.873'/></g><g><title>AuthService</title><rect fill='#000000' fill-opacity='0.00000' height='853.3848' width='8' x='590.7051' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='593.9028' x2='593.9028' y1='81.4883' y2='934.873'/></g><g><title>TokenProvider</title><rect fill='#000000' fill-opacity='0.00000' height='853.3848' width='8' x='795.207' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='798.2959' x2='798.2959' y1='81.4883' y2='934.873'/></g><g><title>PostgreSQL</title><rect fill='#000000' fill-opacity='0.00000' height='853.3848' width='8' x='906.543' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='910.1182' x2='910.1182' y1='81.4883' y2='934.873'/></g><g><title>API</title><rect fill='#000000' fill-opacity='0.00000' height='853.3848' width='8' x='979.6831' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='982.9678' x2='982.9678' y1='81.4883' y2='934.873'/></g><g class='participant participant-head' data-participant='User'><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='30.3652' x='5' y='78.5352'>User</text><ellipse cx='23.1826' cy='13.5' fill='#E2E2F0' rx='8' ry='8' style='stroke:#181818;stroke-width:0.5;'/><path d='M23.1826,21.5 L23.1826,48.5 M10.1826,29.5 L36.1826,29.5 M23.1826,48.5 L10.1826,63.5 M23.1826,48.5 L36.1826,63.5' fill='none' style='stroke:#181818;stroke-width:0.5;'/></g><g class='participant participant-tail' data-participant='User'><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='30.3652' x='5' y='947.4082'>User</text><ellipse cx='23.1826' cy='958.8613' fill='#E2E2F0' rx='8' ry='8' style='stroke:#181818;stroke-width:0.5;'/><path d='M23.1826,966.8613 L23.1826,993.8613 M10.1826,974.8613 L36.1826,974.8613 M23.1826,993.8613 L10.1826,1008.8613 M23.1826,993.8613 L36.1826,1008.8613' fill='none' style='stroke:#181818;stroke-width:0.5;'/></g><g class='participant participant-head' data-participant='SPA'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='149.8779' x='91.8335' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='135.8779' x='98.8335' y='70.5352'>SPA (React/Angular)</text></g><g class='participant participant-tail' data-participant='SPA'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='149.8779' x='91.8335' y='933.873'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='135.8779' x='98.8335' y='954.4082'>SPA (React/Angular)</text></g><g class='participant participant-head' data-participant='Controller'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='114.4336' x='352.8672' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='100.4336' x='359.8672' y='70.5352'>AuthController</text></g><g class='participant participant-tail' data-participant='Controller'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='114.4336' x='352.8672' y='933.873'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='100.4336' x='359.8672' y='954.4082'>AuthController</text></g><g class='participant participant-head' data-participant='Service'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='93.6045' x='547.9028' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='79.6045' x='554.9028' y='70.5352'>AuthService</text></g><g class='participant participant-tail' data-participant='Service'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='93.6045' x='547.9028' y='933.873'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='79.6045' x='554.9028' y='954.4082'>AuthService</text></g><g class='participant participant-head' data-participant='Token'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='111.8223' x='743.2959' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='97.8223' x='750.2959' y='70.5352'>TokenProvider</text></g><g class='participant participant-tail' data-participant='Token'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='111.8223' x='743.2959' y='933.873'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='97.8223' x='750.2959' y='954.4082'>TokenProvider</text></g><g class='participant participant-head' data-participant='DB'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='90.8496' x='865.1182' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='76.8496' x='872.1182' y='70.5352'>PostgreSQL</text></g><g class='participant participant-tail' data-participant='DB'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='90.8496' x='865.1182' y='933.873'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='76.8496' x='872.1182' y='954.4082'>PostgreSQL</text></g><g class='participant participant-head' data-participant='API'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='35.4307' x='965.9678' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='21.4307' x='972.9678' y='70.5352'>API</text></g><g class='participant participant-tail' data-participant='API'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='35.4307' x='965.9678' y='933.873'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='21.4307' x='972.9678' y='954.4082'>API</text></g><g class='message' data-participant-1='User' data-participant-2='SPA'><polygon fill='#181818' points='154.7725,108.7988,164.7725,112.7988,154.7725,116.7988,158.7725,112.7988' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='23.1826' x2='160.7725' y1='112.7988' y2='112.7988'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='119.5898' x='30.1826' y='108.0566'>Digita email/senha</text></g><g class='message' data-participant-1='SPA' data-participant-2='Controller'><polygon fill='#181818' points='398.084,138.1094,408.084,142.1094,398.084,146.1094,402.084,142.1094' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='166.7725' x2='404.084' y1='142.1094' y2='142.1094'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='202.1602' x='173.7725' y='137.3672'>POST /auth/login {email, senha}</text></g><g class='message' data-participant-1='Controller' data-participant-2='Service'><polygon fill='#181818' points='582.7051,167.4199,592.7051,171.4199,582.7051,175.4199,586.7051,171.4199' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='410.084' x2='588.7051' y1='171.4199' y2='171.4199'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='66.333' x='417.084' y='166.6777'>autentica()</text></g><g class='message' data-participant-1='Service' data-participant-2='DB'><polygon fill='#181818' points='898.543,196.7305,908.543,200.7305,898.543,204.7305,902.543,200.7305' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='594.7051' x2='904.543' y1='200.7305' y2='200.7305'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='218.5308' x='601.7051' y='195.9883'>busca usu&#225;rio + valida hash senha</text></g><g class='message' data-participant-1='Service' data-participant-2='Token'><polygon fill='#181818' points='787.207,226.041,797.207,230.041,787.207,234.041,791.207,230.041' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='594.7051' x2='793.207' y1='230.041' y2='230.041'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='170.8662' x='601.7051' y='225.2988'>gera access/refresh tokens</text></g><g class='message' data-participant-1='Token' data-participant-2='Service'><polygon fill='#181818' points='605.7051,255.3516,595.7051,259.3516,605.7051,263.3516,601.7051,259.3516' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='599.7051' x2='798.207' y1='259.3516' y2='259.3516'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='180.502' x='611.7051' y='254.6094'>{accessToken, refreshToken}</text></g><g class='message' data-participant-1='Service' data-participant-2='DB'><polygon fill='#181818' points='898.543,284.6621,908.543,288.6621,898.543,292.6621,902.543,288.6621' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='594.7051' x2='904.543' y1='288.6621' y2='288.6621'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='119.2979' x='601.7051' y='283.9199'>salva refreshToken</text></g><g class='message' data-participant-1='Service' data-participant-2='Controller'><polygon fill='#181818' points='421.084,313.9727,411.084,317.9727,421.084,321.9727,417.084,317.9727' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='415.084' x2='593.7051' y1='317.9727' y2='317.9727'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='101.0483' x='427.084' y='313.2305'>tokens emitidos</text></g><g class='message' data-participant-1='Controller' data-participant-2='SPA'><polygon fill='#181818' points='177.7725,343.2832,167.7725,347.2832,177.7725,351.2832,173.7725,347.2832' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='171.7725' x2='409.084' y1='347.2832' y2='347.2832'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='122.897' x='183.7725' y='342.541'>HTTP 200 + tokens</text></g><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='1006.3984' x='0' y='375.9385'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='1006.3984' y1='375.9385' y2='375.9385'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='1006.3984' y1='378.9385' y2='378.9385'/><rect fill='#EEEEEE' height='23.3105' style='stroke:#000000;stroke-width:2;' width='90.2798' x='458.0593' y='365.2832'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='71.9951' x='464.0593' y='381.8516'>Ap&#243;s login</text><g class='message' data-participant-1='SPA' data-participant-2='API'><polygon fill='#181818' points='971.6831,415.9043,981.6831,419.9043,971.6831,423.9043,975.6831,419.9043' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='166.7725' x2='977.6831' y1='419.9043' y2='419.9043'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='218.5625' x='173.7725' y='415.1621'>Authorization: Bearer accessToken</text></g><g class='message' data-participant-1='API' data-participant-2='Token'><polygon fill='#181818' points='810.207,445.2148,800.207,449.2148,810.207,453.2148,806.207,449.2148' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='804.207' x2='982.6831' y1='449.2148' y2='449.2148'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='76.6543' x='816.207' y='444.4727'>valida token</text></g><g class='message' data-participant-1='Token' data-participant-2='API'><polygon fill='#181818' points='971.6831,474.5254,981.6831,478.5254,971.6831,482.5254,975.6831,478.5254' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='799.207' x2='977.6831' y1='478.5254' y2='478.5254'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='40.1172' x='806.207' y='473.7832'>claims</text></g><g class='message' data-participant-1='API' data-participant-2='SPA'><polygon fill='#181818' points='177.7725,503.8359,167.7725,507.8359,177.7725,511.8359,173.7725,507.8359' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='171.7725' x2='982.6831' y1='507.8359' y2='507.8359'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='100.6802' x='183.7725' y='503.0938'>resposta segura</text></g><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='1006.3984' x='0' y='536.4912'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='1006.3984' y1='536.4912' y2='536.4912'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='1006.3984' y1='539.4912' y2='539.4912'/><rect fill='#EEEEEE' height='23.3105' style='stroke:#000000;stroke-width:2;' width='89.9307' x='458.2339' y='525.8359'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='71.646' x='464.2339' y='542.4043'>Renova&#231;&#227;o</text><g class='message' data-participant-1='SPA' data-participant-2='Controller'><polygon fill='#181818' points='398.084,576.457,408.084,580.457,398.084,584.457,402.084,580.457' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='166.7725' x2='404.084' y1='580.457' y2='580.457'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='219.3115' x='173.7725' y='575.7148'>POST /auth/refresh {refreshToken}</text></g><g class='message' data-participant-1='Controller' data-participant-2='Service'><polygon fill='#181818' points='582.7051,605.7676,592.7051,609.7676,582.7051,613.7676,586.7051,609.7676' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='410.084' x2='588.7051' y1='609.7676' y2='609.7676'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='124.6108' x='417.084' y='605.0254'>valida refreshToken</text></g><g class='message' data-participant-1='Service' data-participant-2='DB'><polygon fill='#181818' points='898.543,635.0781,908.543,639.0781,898.543,643.0781,902.543,639.0781' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='594.7051' x2='904.543' y1='639.0781' y2='639.0781'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='176.7949' x='601.7051' y='634.3359'>busca e valida refreshToken</text></g><g class='message' data-participant-1='Service' data-participant-2='Token'><polygon fill='#181818' points='787.207,664.3887,797.207,668.3887,787.207,672.3887,791.207,668.3887' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='594.7051' x2='793.207' y1='668.3887' y2='668.3887'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='154.3433' x='601.7051' y='663.6465'>emite novo accessToken</text></g><g class='message' data-participant-1='Token' data-participant-2='Service'><polygon fill='#181818' points='605.7051,693.6992,595.7051,697.6992,605.7051,701.6992,601.7051,697.6992' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='599.7051' x2='798.207' y1='697.6992' y2='697.6992'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='114.9878' x='611.7051' y='692.957'>novo accessToken</text></g><g class='message' data-participant-1='Service' data-participant-2='Controller'><polygon fill='#181818' points='421.084,723.0098,411.084,727.0098,421.084,731.0098,417.084,727.0098' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='415.084' x2='593.7051' y1='727.0098' y2='727.0098'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='160.6211' x='427.084' y='722.2676'>HTTP 200 + accessToken</text></g><g class='message' data-participant-1='Controller' data-participant-2='SPA'><polygon fill='#181818' points='177.7725,752.3203,167.7725,756.3203,177.7725,760.3203,173.7725,756.3203' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='171.7725' x2='409.084' y1='756.3203' y2='756.3203'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='114.9878' x='183.7725' y='751.5781'>novo accessToken</text></g><rect fill='#EEEEEE' height='3' style='stroke:#EEEEEE;stroke-width:1;' width='1006.3984' x='0' y='784.9756'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='1006.3984' y1='784.9756' y2='784.9756'/><line style='stroke:#000000;stroke-width:1;' x1='0' x2='1006.3984' y1='787.9756' y2='787.9756'/><rect fill='#EEEEEE' height='23.3105' style='stroke:#000000;stroke-width:2;' width='64.832' x='470.7832' y='774.3203'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='46.5474' x='476.7832' y='790.8887'>Logout</text><g class='message' data-participant-1='SPA' data-participant-2='Controller'><polygon fill='#181818' points='398.084,824.9414,408.084,828.9414,398.084,832.9414,402.084,828.9414' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='166.7725' x2='404.084' y1='828.9414' y2='828.9414'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='215.4775' x='173.7725' y='824.1992'>POST /auth/logout {refreshToken}</text></g><g class='message' data-participant-1='Controller' data-participant-2='Service'><polygon fill='#181818' points='582.7051,854.252,592.7051,858.252,582.7051,862.252,586.7051,858.252' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='410.084' x2='588.7051' y1='858.252' y2='858.252'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='136.4365' x='417.084' y='853.5098'>invalida refreshToken</text></g><g class='message' data-participant-1='Service' data-participant-2='DB'><polygon fill='#181818' points='898.543,883.5625,908.543,887.5625,898.543,891.5625,902.543,887.5625' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='594.7051' x2='904.543' y1='887.5625' y2='887.5625'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='133.7642' x='601.7051' y='882.8203'>deleta/invalida token</text></g><g class='message' data-participant-1='Controller' data-participant-2='SPA'><polygon fill='#181818' points='177.7725,912.873,167.7725,916.873,177.7725,920.873,173.7725,916.873' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='171.7725' x2='409.084' y1='916.873' y2='916.873'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='61.9531' x='183.7725' y='912.1309'>HTTP 200</text></g></g></svg>